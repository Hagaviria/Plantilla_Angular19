<div class="tasks-container">
  <div class="tasks-header">
    <h2>Tareas del Proyecto {{ projectId }}</h2>
    <div class="flex gap-2">
      <p-button
        label="Volver"
        icon="pi pi-arrow-left"
        (click)="backToProjects()"
        severity="secondary"
      ></p-button>
      <p-button
        label="Nueva Tarea"
        icon="pi pi-plus"
        (click)="addTask()"
      ></p-button>
    </div>
  </div>

  <p-toast></p-toast>
  <p-confirmDialog></p-confirmDialog>

  <div class="tasks-grid">
    @for (task of paginatedTasks; track task.id) {
    <app-task-card
      [task]="task"
      (edit)="editTask(task.id)"
      (delete)="deleteTask(task.id)"
    ></app-task-card>
    }
  </div>

  <div class="tasks-paginator">
    <p-paginator
      [first]="first"
      [rows]="rows"
      [totalRecords]="tasks.length"
      [rowsPerPageOptions]="[10, 15, 20]"
      [showCurrentPageReport]="true"
      [showPageLinks]="false"
      (onPageChange)="onPageChange($event)"
    >
    </p-paginator>
  </div>
</div>
