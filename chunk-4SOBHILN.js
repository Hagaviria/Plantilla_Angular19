import{A as c,Ga as t,d as a,e as i,k as n,n as s,q as l}from"./chunk-OEDDXE3N.js";var d=class e{TOKEN_KEY="auth_token";platformId=l(c);isLoggedIn=new a(this.hasToken());userState$=this.isLoggedIn.asObservable();constructor(){}hasToken(){if(t(this.platformId))try{return!!window.localStorage.getItem(this.TOKEN_KEY)}catch{return!1}return!1}initialize(){this.isLoggedIn.next(this.hasToken())}login(r,o){return i(r==="admin"&&o==="12345").pipe(n(f=>{if(f&&t(this.platformId)){try{window.localStorage.setItem(this.TOKEN_KEY,"fake_token")}catch{}this.isLoggedIn.next(!0)}}))}logout(){if(t(this.platformId))try{window.localStorage.removeItem(this.TOKEN_KEY)}catch{}this.isLoggedIn.next(!1)}isAuthenticated(){return this.isLoggedIn.value}static \u0275fac=function(o){return new(o||e)};static \u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"})};export{d as a};
